<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libcosim: cosim::file_cache Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libcosim<span id="projectnumber">&#160;0.8.2</span>
   </div>
   <div id="projectbrief">C++ library for distributed co-simulation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacecosim.html">cosim</a></li><li class="navelem"><a class="el" href="classcosim_1_1file__cache.html">file_cache</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classcosim_1_1file__cache-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">cosim::file_cache Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div></div>
</div><!--header-->
<div class="contents">

<p>An interface to a file cache.  
 <a href="classcosim_1_1file__cache.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="file__cache_8hpp_source.html">cosim/file_cache.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for cosim::file_cache:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classcosim_1_1file__cache.png" usemap="#cosim::file_5Fcache_map" alt=""/>
  <map id="cosim::file_5Fcache_map" name="cosim::file_5Fcache_map">
<area href="classcosim_1_1persistent__file__cache.html" title="A persistent file cache which can be safely accessed by multiple processes, threads and fibers concur..." alt="cosim::persistent_file_cache" shape="rect" coords="0,56,173,80"/>
<area href="classcosim_1_1temporary__file__cache.html" title="A simple implementation of file_cache that offers no synchronisation or persistence." alt="cosim::temporary_file_cache" shape="rect" coords="183,56,356,80"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcosim_1_1file__cache_1_1directory__ro.html">directory_ro</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A handle that represents read-only access to a cache subdirectory.  <a href="classcosim_1_1file__cache_1_1directory__ro.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcosim_1_1file__cache_1_1directory__rw.html">directory_rw</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A handle that represents read/write access to a cache subdirectory.  <a href="classcosim_1_1file__cache_1_1directory__rw.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a01203d8d1e7ad0e3ed6638713b2f5f83"><td class="memItemLeft" align="right" valign="top">virtual <a class="elRef" href="http://en.cppreference.com/w/cpp/memory/unique_ptr.html">std::unique_ptr</a>&lt; <a class="el" href="classcosim_1_1file__cache_1_1directory__rw.html">directory_rw</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcosim_1_1file__cache.html#a01203d8d1e7ad0e3ed6638713b2f5f83">get_directory_rw</a> (std::string_view key)=0</td></tr>
<tr class="memdesc:a01203d8d1e7ad0e3ed6638713b2f5f83"><td class="mdescLeft">&#160;</td><td class="mdescRight">Requests read/write access to the cache subdirectory associated with the given key, creating one if it doesn't exist already.  <a href="classcosim_1_1file__cache.html#a01203d8d1e7ad0e3ed6638713b2f5f83">More...</a><br /></td></tr>
<tr class="separator:a01203d8d1e7ad0e3ed6638713b2f5f83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09bbbd1dcc4f4eb37d6d6ac587299fc3"><td class="memItemLeft" align="right" valign="top">virtual <a class="elRef" href="http://en.cppreference.com/w/cpp/memory/unique_ptr.html">std::unique_ptr</a>&lt; <a class="el" href="classcosim_1_1file__cache_1_1directory__ro.html">directory_ro</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcosim_1_1file__cache.html#a09bbbd1dcc4f4eb37d6d6ac587299fc3">get_directory_ro</a> (std::string_view key)=0</td></tr>
<tr class="memdesc:a09bbbd1dcc4f4eb37d6d6ac587299fc3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Requests read-only access to the cache subdirectory associated with the given key.  <a href="classcosim_1_1file__cache.html#a09bbbd1dcc4f4eb37d6d6ac587299fc3">More...</a><br /></td></tr>
<tr class="separator:a09bbbd1dcc4f4eb37d6d6ac587299fc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >An interface to a file cache. </p>
<p >Conceptually, the cache is organised as a flat list of subdirectories, each associated with a name â€“ here called a <em>key</em>, so as not to confuse it with the actual directory name, which may be different. (The actual filesystem layout of the cache is implementation specific.)</p>
<p >Client code can request read-write or read-only access to specific subdirectories. Since it may be impossible for the implementation to restrict access on a filesystem level, it is up to client code to not abuse the API by modifying the contents of a subdirectory after requesting read-only access. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a09bbbd1dcc4f4eb37d6d6ac587299fc3" name="a09bbbd1dcc4f4eb37d6d6ac587299fc3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09bbbd1dcc4f4eb37d6d6ac587299fc3">&#9670;&nbsp;</a></span>get_directory_ro()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="elRef" href="http://en.cppreference.com/w/cpp/memory/unique_ptr.html">std::unique_ptr</a>&lt; <a class="el" href="classcosim_1_1file__cache_1_1directory__ro.html">directory_ro</a> &gt; cosim::file_cache::get_directory_ro </td>
          <td>(</td>
          <td class="paramtype">std::string_view&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Requests read-only access to the cache subdirectory associated with the given key. </p>
<p >The key must already exist in the cache.</p>
<p >Access is granted for the lifetime of the returned <code><a class="el" href="classcosim_1_1file__cache_1_1directory__ro.html" title="A handle that represents read-only access to a cache subdirectory.">directory_ro</a></code> object. The object should therefore be kept around as long as access is needed, but usually no longer, since it may block others from gaining access. Once the object expires, the directory may be modified or deleted by others.</p>
<p >If the function is unable to take shared ownership of the directory, it may block until it becomes able to do so, or it may throw. </p>

<p>Implemented in <a class="el" href="classcosim_1_1temporary__file__cache.html#a6dee40c1ecb5d20c76b8d2e32b43e324">cosim::temporary_file_cache</a>, and <a class="el" href="classcosim_1_1persistent__file__cache.html#a60d63fe92ccdd599af99804fc87da66f">cosim::persistent_file_cache</a>.</p>

</div>
</div>
<a id="a01203d8d1e7ad0e3ed6638713b2f5f83" name="a01203d8d1e7ad0e3ed6638713b2f5f83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01203d8d1e7ad0e3ed6638713b2f5f83">&#9670;&nbsp;</a></span>get_directory_rw()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="elRef" href="http://en.cppreference.com/w/cpp/memory/unique_ptr.html">std::unique_ptr</a>&lt; <a class="el" href="classcosim_1_1file__cache_1_1directory__rw.html">directory_rw</a> &gt; cosim::file_cache::get_directory_rw </td>
          <td>(</td>
          <td class="paramtype">std::string_view&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Requests read/write access to the cache subdirectory associated with the given key, creating one if it doesn't exist already. </p>
<p >Access is granted for the lifetime of the returned <code><a class="el" href="classcosim_1_1file__cache_1_1directory__rw.html" title="A handle that represents read/write access to a cache subdirectory.">directory_rw</a></code> object. The object should therefore be kept around as long as access is needed, but usually no longer, since it may block others from gaining access. Once the object expires, the directory may be modified or deleted by others.</p>
<p >If the function is unable to take ownership of the directory, it may block until it becomes able to do so, or it may throw. </p>

<p>Implemented in <a class="el" href="classcosim_1_1temporary__file__cache.html#a881ed58f53b6e4c57349c8f81bf9dcf6">cosim::temporary_file_cache</a>, and <a class="el" href="classcosim_1_1persistent__file__cache.html#aa308ddc7dd4a72cd015145a855c11f87">cosim::persistent_file_cache</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>cosim/<a class="el" href="file__cache_8hpp_source.html">file_cache.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2
</small></address>
</body>
</html>
