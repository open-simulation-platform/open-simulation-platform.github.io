<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.19.1 by Michael Rose
  Copyright 2013-2019 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Quarter-Truck - Core Simulation Environment</title>
<meta name="description" content="co-simulation software ">



<meta property="og:type" content="website">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Core Simulation Environment">
<meta property="og:title" content="Quarter-Truck">
<meta property="og:url" content="http://0.0.0.0:4000/cse-demo-app/Quarter-Truck">


  <meta property="og:description" content="co-simulation software ">












<link rel="canonical" href="http://0.0.0.0:4000/cse-demo-app/Quarter-Truck">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": null,
      "url": "http://0.0.0.0:4000/"
    
  }
</script>






<!-- end _includes/seo.html -->


<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Core Simulation Environment Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">

<!--[if IE]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--default">
    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          Core Simulation Environment
          
        </a>
        <ul class="visible-links"></ul>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      <h2 id="cse-demo-application---quarter-truck">CSE demo application - Quarter-Truck</h2>

<h3 id="system-description">System Description</h3>

<p>This example describes a low-level test case for the performance of the cse in terms of accuracy and efficiency. 
Figure 1 shows a simplified model of a quarter truck with two masses mWheel and mChassis representing the mass of wheel and chassis respectively. Both masses have single vertical degree of freedom and coupled by linear spring-damper systems representing the suspension force and tire force. The ground profile is give as external input.</p>

<figure>
<img src="/assets/img/QuarterTruckFig1.png" width="500" /> 
<figcaption>Fig.1 A simplified quarter truck model</figcaption>
</figure>

<h3 id="model-description">Model Description</h3>

<p>For co-simulation, three FMUs are generated namely the chassis, wheel and ground. The ground and chassis each have one variable group for connection to the wheel which has two variable groups that are commutative to those of the ground and chassis. Table 1 shows the connections for these variables. Specifically for this example, the first element in the variable name indicates which fmu it belongs to. 
The local default parameters used in the model are listed in Table 2.</p>

<p><strong>Table 1:</strong> <em>Input and output variables of the quarter truck fmus for connection</em></p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">Output</th>
      <th style="text-align: center">Input</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">chassis.p.e</code></td>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">wheel.p.e</code></td>
      <td style="text-align: left">Vertical force from the chassis suspension applied to the wheel</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">wheel.p.f</code></td>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">chassis.p.f</code></td>
      <td style="text-align: left">Vertical velocity of the wheel sent to the chassis part</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">wheel.p.e</code></td>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">ground.p.e</code></td>
      <td style="text-align: left">Vertical force from the truck wheel tyres applied to the ground</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">ground.p.f</code></td>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">wheel.p.f</code></td>
      <td style="text-align: left">Ground profile, given as the vertical velocity variation sent to the truck wheel</td>
    </tr>
  </tbody>
</table>

<p><strong>Table 2:</strong> <em>Local parameters of the quarter truck model</em></p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Parameter</th>
      <th style="text-align: center">Default Value</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">mWheel</code></td>
      <td style="text-align: center">40 kg</td>
      <td style="text-align: left">Wheel Mass</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">mChassis</code></td>
      <td style="text-align: center">400 kg</td>
      <td style="text-align: left">Chassis Mass</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">kWheel</code></td>
      <td style="text-align: center">150000 Nm^-1</td>
      <td style="text-align: left">Wheel Spring Stiffness</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">dWheel</code></td>
      <td style="text-align: center">0 Nsm^-1</td>
      <td style="text-align: left">Wheel Damper Coefficient</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">kChassis</code></td>
      <td style="text-align: center">15000 Nm^-1</td>
      <td style="text-align: left">Chassis Spring Stiffness</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-plaintext highlighter-rouge">dChassis</code></td>
      <td style="text-align: center">1000 Nsm^-1</td>
      <td style="text-align: left">Chassis Damper Coefficient</td>
    </tr>
  </tbody>
</table>

<h3 id="simulation-results">Simulation Results</h3>
<p>The following scenario is performed as example. The system starts from equilibrium state where <em>zWheel</em> = <em>zChassis</em> = 0. The ground profile is defined as a step function excited by a jump of 0.1m in vertical direction at 1s. Figure 2 and Figure 3 show the vertical displacements of the wheel and the chassis. We accept the result using very fine time step (0.001s) as the benchmark and increased time step (0.01s) for co-simulation.</p>
<figure>
<img src="/assets/img/QuarterTruckFig2.png" width="500" />
  <figcaption>Fig.2 Displacement of the wheel and chassis in cse</figcaption>
</figure>
<figure>
<img src="/assets/img/QuarterTruckFig3.png" width="500" /> 
<figcaption>Fig.3 Displacement of the wheel and chassis in cse</figcaption>
</figure>

<p>The accuracy can be improved by applying advanced master algorithms provided variable co-simulation time steps, and optionally th support of setting/getting derivatives, getting/setting states. In order to enforce reliable macro-step control algorithms, error estimation is needed. Classic Richardson extrapolation and a modified error estimator is described in [1]. Figure 4 show the results of using an energy-based algorithm (ECCO) for error correction [2].</p>
<figure>
<img src="/assets/img/QuarterTruckFig4.png" /> 
<figcaption>Fig.4 Displacement of the wheel and chassis with ECCO</figcaption>
</figure>

<h3 id="simulation-using-cse-demo-app">Simulation using cse-demo-app</h3>
<p>User guide of the cse demo application, i.e., cse-server-go can be found <a href="/cse-demo-app/cse-demo-app">cse-demo-app</a>. Figure 5 shows the demo application set up and Figure 6 shows the time series of the simulation output.</p>

<figure>
<img src="/assets/img/QuarterTruckFig5.png" /> 
<figcaption>Fig.5 Quarter truck case in cse demo application setup </figcaption>
</figure>
<figure>
<img src="/assets/img/QuarterTruckFig6.png" /> 
<figcaption>Fig.6 Displacement of the wheel and chassis in cse demo application </figcaption>
</figure>

<h3 id="references">References</h3>
<p>[1] Arnold, M., Clauss, C., &amp; Schierz, T. (2014). Error analysis and error estimates for co-simulation in FMI for model exchange and co-simulation V2. 0. In Progress in Differential-Algebraic Equations (pp. 107-125). Springer, Berlin, Heidelberg.</p>

<p>[2] Sadjina, S., Kyllingstad, L. T., Rindarøy, M., Skjong, S., Æsøy, V., and Pedersen, E. (September 12, 2018). “Distributed Co-simulation of Maritime Systems and Operations.” ASME. J. Offshore Mech. Arct. Eng. February 2019; 141(1): 011302. https://doi.org/10.1115/1.4040473</p>

    </div>

    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    

    <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2020 Core Simulation Environment. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>
  <script src="https://kit.fontawesome.com/4eee35f757.js"></script>










  </body>
</html>
