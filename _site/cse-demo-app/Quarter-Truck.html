<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>Quarter-Truck - Core Simulation Environment</title> <link rel="shortcut icon" href="http://localhost:4000/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="http://localhost:4000/assets/css/just-the-docs.css"> <script type="text/javascript" src="http://localhost:4000/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="http://localhost:4000/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.6.1 --> <title>Quarter-Truck | Core Simulation Environment</title> <meta name="generator" content="Jekyll v3.8.5" /> <meta property="og:title" content="Quarter-Truck" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="co-simulation software" /> <meta property="og:description" content="co-simulation software" /> <link rel="canonical" href="http://localhost:4000/cse-demo-app/Quarter-Truck" /> <meta property="og:url" content="http://localhost:4000/cse-demo-app/Quarter-Truck" /> <meta property="og:site_name" content="Core Simulation Environment" /> <script type="application/ld+json"> {"@type":"WebPage","headline":"Quarter-Truck","url":"http://localhost:4000/cse-demo-app/Quarter-Truck","description":"co-simulation software","@context":"https://schema.org"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="link" viewBox="0 0 16 16"> <title>Link</title> <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path> </symbol> </svg> <div class="page-wrap"> <div class="side-bar"> <div class="site-header"> <a href="http://localhost:4000" class="site-title lh-tight"> Core Simulation Environment </a> <button class="menu-button fs-3 js-main-nav-trigger" data-text-toggle="Hide" type="button">Menu</button> </div> <div class="navigation main-nav js-main-nav"> <nav role="navigation" aria-label="Main navigation"> <ul class="navigation-list"><li class="navigation-list-item"><a href="http://localhost:4000/404.html" class="navigation-list-link">page not found</a></li><li class="navigation-list-item"><a href="http://localhost:4000/cse-demo-app/DPShip" class="navigation-list-link">DPShip</a></li><li class="navigation-list-item"><a href="http://localhost:4000/cse-demo-app/House" class="navigation-list-link">House</a></li><li class="navigation-list-item active"><a href="http://localhost:4000/cse-demo-app/Quarter-Truck" class="navigation-list-link active">Quarter-Truck</a></li><li class="navigation-list-item"><a href="http://localhost:4000/cse-cli" class="navigation-list-link">cse-cli</a></li><li class="navigation-list-item"><a href="http://localhost:4000/cse-core/cse" class="navigation-list-link">CSE</a></li><li class="navigation-list-item"><a href="http://localhost:4000/cse-demo-app/cse-demo-app" class="navigation-list-link">cse-demo-app</a></li><li class="navigation-list-item"><a href="http://localhost:4000/cse-java-wrapper" class="navigation-list-link">cse-java-wrapper</a></li><li class="navigation-list-item"><a href="http://localhost:4000/cse-core/fmuproxy" class="navigation-list-link">fmuproxy</a></li><li class="navigation-list-item"><a href="http://localhost:4000/" class="navigation-list-link">CSE</a></li><li class="navigation-list-item"><a href="http://localhost:4000/model-interface-validator" class="navigation-list-link">Model Interface Validator</a></li><li class="navigation-list-item"><a href="http://localhost:4000/cse-demo-app/user-guide" class="navigation-list-link">user-guide</a></li></ul> </nav> </div> <footer class="site-footer"> <p class="text-small text-grey-dk-000 mb-4">This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.</p> </footer> </div> <div class="main-content-wrap js-main-content" tabindex="0"> <div class="main-content"> <div class="page-header js-page-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" class="js-search-input search-input" tabindex="0" placeholder="Search Core Simulation Environment" aria-label="Search Core Simulation Environment" autocomplete="off"> <svg width="14" height="14" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" class="search-icon"><title>Search</title><g fill-rule="nonzero"><path d="M17.332 20.735c-5.537 0-10-4.6-10-10.247 0-5.646 4.463-10.247 10-10.247 5.536 0 10 4.601 10 10.247s-4.464 10.247-10 10.247zm0-4c3.3 0 6-2.783 6-6.247 0-3.463-2.7-6.247-6-6.247s-6 2.784-6 6.247c0 3.464 2.7 6.247 6 6.247z"/><path d="M11.672 13.791L.192 25.271 3.02 28.1 14.5 16.62z"/></g></svg> </div> <div class="js-search-results search-results-wrap"></div> </div> </div> <div class="page"> <div id="main-content" class="page-content" role="main"> <h2 id="cse-demo-application---quarter-truck"> <a href="#cse-demo-application---quarter-truck" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> CSE demo application - Quarter-Truck </h2> <h3 id="system-description"> <a href="#system-description" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> System Description </h3> <p>This example describes a low-level test case for the performance of the cse in terms of accuracy and efficiency. Figure 1 shows a simplified model of a quarter truck with two masses mWheel and mChassis representing the mass of wheel and chassis respectively. Both masses have single vertical degree of freedom and coupled by linear spring-damper systems representing the suspension force and tire force. The ground profile is give as external input.</p> <figure> <img src="/assets/img/QuarterTruckFig1.png" width="500" /> <figcaption>Fig.1 A simplified quarter truck model</figcaption> </figure> <h3 id="model-description"> <a href="#model-description" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Model Description </h3> <p>For co-simulation, three FMUs are generated namely the chassis, wheel and ground. The ground and chassis each have one variable group for connection to the wheel which has two variable groups that are commutative to those of the ground and chassis. Table 1 shows the connections for these variables. Specifically for this example, the first element in the variable name indicates which fmu it belongs to. The local default parameters used in the model are listed in Table 2.</p> <p><strong>Table 1:</strong> <em>Input and output variables of the quarter truck fmus for connection</em></p> <div class="table-wrapper"><table> <thead> <tr> <th style="text-align: center">Output</th> <th style="text-align: center">Input</th> <th style="text-align: left">Description</th> </tr> </thead> <tbody> <tr> <td style="text-align: center"><code class="language-plaintext highlighter-rouge">chassis.p.e</code></td> <td style="text-align: center"><code class="language-plaintext highlighter-rouge">wheel.p.e</code></td> <td style="text-align: left">Vertical force from the chassis suspension applied to the wheel</td> </tr> <tr> <td style="text-align: center"><code class="language-plaintext highlighter-rouge">wheel.p.f</code></td> <td style="text-align: center"><code class="language-plaintext highlighter-rouge">chassis.p.f</code></td> <td style="text-align: left">Vertical velocity of the wheel sent to the chassis part</td> </tr> <tr> <td style="text-align: center"><code class="language-plaintext highlighter-rouge">wheel.p.e</code></td> <td style="text-align: center"><code class="language-plaintext highlighter-rouge">ground.p.e</code></td> <td style="text-align: left">Vertical force from the truck wheel tyres applied to the ground</td> </tr> <tr> <td style="text-align: center"><code class="language-plaintext highlighter-rouge">ground.p.f</code></td> <td style="text-align: center"><code class="language-plaintext highlighter-rouge">wheel.p.f</code></td> <td style="text-align: left">Ground profile, given as the vertical velocity variation sent to the truck wheel</td> </tr> </tbody> </table></div> <p><strong>Table 2:</strong> <em>Local parameters of the quarter truck model</em></p> <div class="table-wrapper"><table> <thead> <tr> <th style="text-align: left">Parameter</th> <th style="text-align: center">Default Value</th> <th style="text-align: left">Description</th> </tr> </thead> <tbody> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">mWheel</code></td> <td style="text-align: center">40 kg</td> <td style="text-align: left">Wheel Mass</td> </tr> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">mChassis</code></td> <td style="text-align: center">400 kg</td> <td style="text-align: left">Chassis Mass</td> </tr> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">kWheel</code></td> <td style="text-align: center">150000 Nm^-1</td> <td style="text-align: left">Wheel Spring Stiffness</td> </tr> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">dWheel</code></td> <td style="text-align: center">0 Nsm^-1</td> <td style="text-align: left">Wheel Damper Coefficient</td> </tr> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">kChassis</code></td> <td style="text-align: center">15000 Nm^-1</td> <td style="text-align: left">Chassis Spring Stiffness</td> </tr> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">dChassis</code></td> <td style="text-align: center">1000 Nsm^-1</td> <td style="text-align: left">Chassis Damper Coefficient</td> </tr> </tbody> </table></div> <h3 id="simulation-results"> <a href="#simulation-results" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Simulation Results </h3> <p>The following scenario is performed as example. The system starts from equilibrium state where <em>zWheel</em> = <em>zChassis</em> = 0. The ground profile is defined as a step function excited by a jump of 0.1m in vertical direction at 1s. Figure 2 and Figure 3 show the vertical displacements of the wheel and the chassis. We accept the result using very fine time step (0.001s) as the benchmark and increased time step (0.01s) for co-simulation.</p> <figure> <img src="/assets/img/QuarterTruckFig2.png" width="500" /> <figcaption>Fig.2 Displacement of the wheel and chassis in cse</figcaption> </figure> <figure> <img src="/assets/img/QuarterTruckFig3.png" width="500" /> <figcaption>Fig.3 Displacement of the wheel and chassis in cse</figcaption> </figure> <p>The accuracy can be improved by applying advanced master algorithms provided variable co-simulation time steps, and optionally th support of setting/getting derivatives, getting/setting states. In order to enforce reliable macro-step control algorithms, error estimation is needed. Classic Richardson extrapolation and a modified error estimator is described in [1]. Figure 4 show the results of using an energy-based algorithm (ECCO) for error correction [2].</p> <figure> <img src="/assets/img/QuarterTruckFig4.png" /> <figcaption>Fig.4 Displacement of the wheel and chassis with ECCO</figcaption> </figure> <h3 id="simulation-using-cse-demo-app"> <a href="#simulation-using-cse-demo-app" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Simulation using cse-demo-app </h3> <p>User guide of the cse demo application, i.e., cse-server-go can be found <a href="/cse-demo-app/cse-demo-app">cse-demo-app</a>. Figure 5 shows the demo application set up and Figure 6 shows the time series of the simulation output.</p> <figure> <img src="/assets/img/QuarterTruckFig5.png" /> <figcaption>Fig.5 Quarter truck case in cse demo application setup </figcaption> </figure> <figure> <img src="/assets/img/QuarterTruckFig6.png" /> <figcaption>Fig.6 Displacement of the wheel and chassis in cse demo application </figcaption> </figure> <h3 id="references"> <a href="#references" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> References </h3> <p>[1] Arnold, M., Clauss, C., &amp; Schierz, T. (2014). Error analysis and error estimates for co-simulation in FMI for model exchange and co-simulation V2. 0. In Progress in Differential-Algebraic Equations (pp. 107-125). Springer, Berlin, Heidelberg.</p> <p>[2] Sadjina, S., Kyllingstad, L. T., Rindarøy, M., Skjong, S., Æsøy, V., and Pedersen, E. (September 12, 2018). “Distributed Co-simulation of Maritime Systems and Operations.” ASME. J. Offshore Mech. Arct. Eng. February 2019; 141(1): 011302. https://doi.org/10.1115/1.4040473</p> </div> </div> </div> </div> </body> </html>
