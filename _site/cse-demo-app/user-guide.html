<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>user-guide - Core Simulation Environment</title> <link rel="shortcut icon" href="http://localhost:4000/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="http://localhost:4000/assets/css/just-the-docs.css"> <script type="text/javascript" src="http://localhost:4000/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="http://localhost:4000/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.6.1 --> <title>user-guide | Core Simulation Environment</title> <meta name="generator" content="Jekyll v3.8.5" /> <meta property="og:title" content="user-guide" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="co-simulation software" /> <meta property="og:description" content="co-simulation software" /> <link rel="canonical" href="http://localhost:4000/cse-demo-app/user-guide" /> <meta property="og:url" content="http://localhost:4000/cse-demo-app/user-guide" /> <meta property="og:site_name" content="Core Simulation Environment" /> <script type="application/ld+json"> {"@type":"WebPage","headline":"user-guide","url":"http://localhost:4000/cse-demo-app/user-guide","description":"co-simulation software","@context":"https://schema.org"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="link" viewBox="0 0 16 16"> <title>Link</title> <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path> </symbol> </svg> <div class="page-wrap"> <div class="side-bar"> <div class="site-header"> <a href="http://localhost:4000" class="site-title lh-tight"> Core Simulation Environment </a> <button class="menu-button fs-3 js-main-nav-trigger" data-text-toggle="Hide" type="button">Menu</button> </div> <div class="navigation main-nav js-main-nav"> <nav role="navigation" aria-label="Main navigation"> <ul class="navigation-list"><li class="navigation-list-item"><a href="http://localhost:4000/404.html" class="navigation-list-link">page not found</a></li><li class="navigation-list-item"><a href="http://localhost:4000/cse-demo-app/DPShip" class="navigation-list-link">DPShip</a></li><li class="navigation-list-item"><a href="http://localhost:4000/cse-demo-app/House" class="navigation-list-link">House</a></li><li class="navigation-list-item"><a href="http://localhost:4000/cse-demo-app/Quarter-Truck" class="navigation-list-link">Quarter-Truck</a></li><li class="navigation-list-item"><a href="http://localhost:4000/cse-cli" class="navigation-list-link">cse-cli</a></li><li class="navigation-list-item"><a href="http://localhost:4000/cse-core/cse" class="navigation-list-link">CSE</a></li><li class="navigation-list-item"><a href="http://localhost:4000/cse-demo-app/cse-demo-app" class="navigation-list-link">cse-demo-app</a></li><li class="navigation-list-item"><a href="http://localhost:4000/cse-java-wrapper" class="navigation-list-link">cse-java-wrapper</a></li><li class="navigation-list-item"><a href="http://localhost:4000/cse-core/fmuproxy" class="navigation-list-link">fmuproxy</a></li><li class="navigation-list-item"><a href="http://localhost:4000/" class="navigation-list-link">CSE</a></li><li class="navigation-list-item"><a href="http://localhost:4000/model-interface-validator" class="navigation-list-link">Model Interface Validator</a></li><li class="navigation-list-item active"><a href="http://localhost:4000/cse-demo-app/user-guide" class="navigation-list-link active">user-guide</a></li></ul> </nav> </div> <footer class="site-footer"> <p class="text-small text-grey-dk-000 mb-4">This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.</p> </footer> </div> <div class="main-content-wrap js-main-content" tabindex="0"> <div class="main-content"> <div class="page-header js-page-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" class="js-search-input search-input" tabindex="0" placeholder="Search Core Simulation Environment" aria-label="Search Core Simulation Environment" autocomplete="off"> <svg width="14" height="14" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" class="search-icon"><title>Search</title><g fill-rule="nonzero"><path d="M17.332 20.735c-5.537 0-10-4.6-10-10.247 0-5.646 4.463-10.247 10-10.247 5.536 0 10 4.601 10 10.247s-4.464 10.247-10 10.247zm0-4c3.3 0 6-2.783 6-6.247 0-3.463-2.7-6.247-6-6.247s-6 2.784-6 6.247c0 3.464 2.7 6.247 6 6.247z"/><path d="M11.672 13.791L.192 25.271 3.02 28.1 14.5 16.62z"/></g></svg> </div> <div class="js-search-results search-results-wrap"></div> </div> </div> <div class="page"> <div id="main-content" class="page-content" role="main"> <h2 id="user-guide"> <a href="#user-guide" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> User guide </h2> <h3 id="download-and-install"> <a href="#download-and-install" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Download and install </h3> <p>Antivirus alert: Be aware that your virus protection software might react to the cse application. It’s not harmful and you can allow it to run.</p> <ul> <li>Windows <ol> <li>Download the latest CSE demo application. cse-vX.Y.Z-win64.zip</li> <li>Extract the files and you will have a root folder looking like below</li> <li>Download dp-ship example models: dp-ship.zip</li> <li>Extract the demo models, for instance next to the cse-vX.Y.Z-win64.zip folder</li> <li>Run startup script: run-windows.cmd</li> <li>The application should open in your web browser at url http://localhost:8000.</li> </ol> </li> </ul> <p><img src="/assets/img/CSEuserguideFig1.png" alt="foo" title="Figure 1" /></p> <ul> <li>Linux <ol> <li>Download CSE demo application archive: cse-server-go-vX.Y.Z.tar.gz</li> <li>Extract archive: tar -xzvf cse-server-go-vX.Y.Z.tar.gz</li> <li>Download dp-ship example models: dp-ship.zip</li> <li>Extract the demo models, for instance next to the cse-vX.Y.Z-win64 folder</li> <li>Run startup script: run-linux</li> <li>The application should open in your web browser at url http://localhost:8000.</li> </ol> </li> </ul> <h3 id="loading-configuration"> <a href="#loading-configuration" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Loading Configuration </h3> <ol> <li>Switch to your web browser at url http://localhost:8000.</li> <li>Enter the path to the dp-ship folder on your machine.</li> <li>Enter the path to a directory where you want the logs to be written. Leave it blank to disable file logging.</li> <li>Previously used configurations are available below.</li> <li>Click “Load simulation” to load the configuration.</li> </ol> <p><img src="/assets/img/CSEuserguideFig2.png" alt="foo" title="Figure 2" /></p> <h3 id="models-and-variables"> <a href="#models-and-variables" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Models and variables </h3> <ol> <li>The models in the simulation will appear on the left hand side.</li> <li>Browse the model variables by clicking the names. Their variables are organized in tabs based on causality.</li> <li>The simulation starts when clicking “Play”.</li> </ol> <p><img src="/assets/img/CSEuserguideFig3.png" alt="foo" title="Figure 3" /></p> <h3 id="simulation-control"> <a href="#simulation-control" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Simulation control </h3> <ol> <li>Click “Simulation status” to see details about the simulation and to access some simulation controls.</li> <li>By clicking “Enable” on the real time target, the simulation will run in real time. If real time target is disabled, the simulation will run as fast as possible.</li> <li>RTF (Real time factor) indicates simulation speed related to real time. RTF = 2 means that simulation runs twice the speed of real time.</li> <li>Real time factor target value can be altered to set a specific RTF.</li> <li>Click Play/Pause to start or pause the simulation.</li> <li>To close the current simulation for loading another configuration, click the “Tear down” button.</li> </ol> <p><img src="/assets/img/CSEuserguideFig4.png" alt="foo" title="Figure 4" /></p> <h3 id="plotting-variables"> <a href="#plotting-variables" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Plotting variables </h3> <ol> <li>Click “Create new time series” or “Create new XY plot” to obtain a time series plot or an XY plot that variables can be added to.</li> <li>Any variable can be added to a plot by clicking “Add to plot” in the variable overview.</li> <li>Select where to plot the variable from the list of available plots.</li> <li>Click the plot names to see the charts.</li> </ol> <p><img src="/assets/img/CSEuserguideFig5.png" alt="foo" title="Figure 5" /> <img src="/assets/img/CSEuserguideFig6.png" alt="foo" title="Figure 6" /></p> <h3 id="overriding-variables"> <a href="#overriding-variables" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Overriding variables </h3> <p>It is possible to override any input, output or parameter variable.</p> <ol> <li>Click the edit icon to the left of the variable.</li> <li>Type in the value and click the check icon.</li> <li>Click the eraser symbol to remove the override.</li> </ol> <p><img src="/assets/img/CSEuserguideFig7.png" alt="foo" title="Figure 7" /></p> <h3 id="scenarios"> <a href="#scenarios" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Scenarios </h3> <ol> <li>Scenario files placed in the ./scenarios subfolder within the configuration folder are automatically loaded and made visible in the Scenarios section.The dp-ship example comes with three scenario files for demonstration purposes.</li> <li>Click the scenarios to see its contents.</li> <li>To execute a scenario click “Load scenario” before starting the simulation.</li> </ol> <p><img src="/assets/img/CSEuserguideFig9.png" alt="foo" title="Figure 9" /></p> <h3 id="co-simulation-configuration"> <a href="#co-simulation-configuration" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Co-simulation configuration </h3> <p>The dp-ship, quarter-truck and house examples each contains a OspSystemStructure.xml file that demonstrates how this is done.</p> <div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;OspSystemStructure</span>
<span class="na">xmlns=</span><span class="s">"http://opensimulationplatform.com/MSMI/OSPSystemStructure"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;BaseStepSize&gt;</span>0.01<span class="nt">&lt;/BaseStepSize&gt;</span>
    <span class="nt">&lt;Simulators&gt;</span>
        <span class="nt">&lt;Simulator</span> <span class="na">name=</span><span class="s">"ModelX"</span> <span class="na">source=</span><span class="s">"fmu1.fmu"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;InitialValues&gt;</span>
                <span class="nt">&lt;InitialValue</span> <span class="na">variable=</span><span class="s">"input1"</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;Real</span> <span class="na">value=</span><span class="s">"42"</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;/InitialValue&gt;</span>
            <span class="nt">&lt;/InitialValues&gt;</span>
        <span class="nt">&lt;/Simulator&gt;</span>
        <span class="nt">&lt;Simulator</span> <span class="na">name=</span><span class="s">"ModelY"</span> <span class="na">source=</span><span class="s">"fmu2.fmu"</span> <span class="na">stepSize=</span><span class="s">"0.1"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;Simulator</span> <span class="na">name=</span><span class="s">"ModelZ"</span> <span class="na">source=</span><span class="s">"fmu3.fmu"</span> <span class="na">stepSize=</span><span class="s">"0.05"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/Simulators&gt;</span>

    <span class="nt">&lt;PlugSocketConnections/&gt;</span>
    <span class="nt">&lt;BondConnections/&gt;</span>
    <span class="nt">&lt;VariableConnections&gt;</span>
        <span class="nt">&lt;ScalarConnection&gt;</span>
            <span class="nt">&lt;Source</span> <span class="na">simulator=</span><span class="s">"ModelX"</span> <span class="na">endpoint=</span><span class="s">"p.out"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;Target</span> <span class="na">simulator=</span><span class="s">"ModelY"</span> <span class="na">endpoint=</span><span class="s">"p.in"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/ScalarConnection&gt;</span>
    <span class="nt">&lt;/VariableConnections&gt;</span>
<span class="nt">&lt;/OspSystemStructure&gt;</span>
</code></pre></div></div> <p>The examples each contains a SystemStructure.ssd file that demonstrates configuration using the SSP standard. CSE currently supports using a fixed step algorithm. The step size can be altered in the SystemStructure.ssd file. The new MSMI connection types are not supported when using the SSP standard.</p> <h3 id="configurable-logging"> <a href="#configurable-logging" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Configurable logging </h3> <p>In order to log signal values from a simulation to file, an output directory must be specified in the “Log folder” field on the simulation setup. By default, all signals will be logged and persisted on every sample. There will be one file generated per simulator. This can quickly lead to a large amount of data being generated, so we recommend instead specifying what signals to log using the configurable log format outlined below. CSE supports basic configuration of specific signals to log from any simulator via an XML file. This file must be named “LogConfig.xml” (exactly including case) and placed in the same folder as the simulators. A basic example of the currently supported syntax is;</p> <div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;simulators&gt;</span>
    <span class="nt">&lt;simulator</span> <span class="na">name=</span><span class="s">"model_1"</span> <span class="na">decimationFactor=</span><span class="s">"20"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;variable</span> <span class="na">name=</span><span class="s">"model_input"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;variable</span> <span class="na">name=</span><span class="s">"model_output"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/simulator&gt;</span>
    <span class="nt">&lt;simulator</span> <span class="na">name=</span><span class="s">"model_2"</span> <span class="na">decimationFactor=</span><span class="s">"10"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;variable</span> <span class="na">name=</span><span class="s">"model_input"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;variable</span> <span class="na">name=</span><span class="s">"model_output"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/simulator&gt;</span>
        <span class="nt">&lt;simulator</span> <span class="na">name=</span><span class="s">"model_3"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/simulators&gt;</span>
</code></pre></div></div> <p>The simulators to be logged must be enclosed in a <simulators> tag, and each signal must specify the name, data type, and causality as parameters in separate <variable> tags under each <simulator>. Each simulator has an optional attribute decimationFactor that specifies that simulator's decimation factor when logging variables. For example a decimation factor of 20 will lead to every 20th sample being logged. If this is not specified, every sample will be logged. Finally, leaving out any <variable> tags on a <simulator> will lead to all variables for that simulator being logged. Leaving out a simulator from the configuration will disable logging for that simulator. Note that this will still generate one file pr. simulator. The log is written in CSV format only, there is currently no support for binary or other log formats.</simulator></variable></simulator></variable></simulators></p> <h3 id="plot"> <a href="#plot" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Plot </h3> <p>Two types of plot are supported by the cse-demo-application, namely <strong>trend</strong> and <strong>scatter</strong>. The trend type shows the curve of a variable over time, while the scatter type shows the relation between two variables, of one versus the other. <br /> An example is shown below. This can be pre-defined and loaded into the cse-demo-app like the scenario file. It is also possibel to add through the demo-app user interface editor. More details and examples can be found in the demo-app descriptions.</p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"plots"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"label"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"plotType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"trend"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"variables"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"simulator"</span><span class="p">:</span><span class="w"> </span><span class="s2">"model name 1"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"variable"</span><span class="p">:</span><span class="w"> </span><span class="s2">"variable name 1"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"simulator"</span><span class="p">:</span><span class="w"> </span><span class="s2">"model name 2"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"variable"</span><span class="p">:</span><span class="w"> </span><span class="s2">"variable name 2"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Room temp XY"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"plotType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"scatter"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"variables"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"simulator"</span><span class="p">:</span><span class="w"> </span><span class="s2">"model name 1"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"variable"</span><span class="p">:</span><span class="w"> </span><span class="s2">"variable name 1"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"simulator"</span><span class="p">:</span><span class="w"> </span><span class="s2">"model name 2"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"variable"</span><span class="p">:</span><span class="w"> </span><span class="s2">"variable name 2"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> </div> </div> </div> </div> </body> </html>
