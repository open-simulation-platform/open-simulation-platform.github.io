<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>cse-cli - Core Simulation Environment</title> <link rel="shortcut icon" href="http://localhost:4000/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="http://localhost:4000/assets/css/just-the-docs.css"> <script type="text/javascript" src="http://localhost:4000/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="http://localhost:4000/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.6.1 --> <title>cse-cli | Core Simulation Environment</title> <meta name="generator" content="Jekyll v3.8.5" /> <meta property="og:title" content="cse-cli" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="co-simulation software" /> <meta property="og:description" content="co-simulation software" /> <link rel="canonical" href="http://localhost:4000/cse-cli" /> <meta property="og:url" content="http://localhost:4000/cse-cli" /> <meta property="og:site_name" content="Core Simulation Environment" /> <script type="application/ld+json"> {"@type":"WebPage","headline":"cse-cli","url":"http://localhost:4000/cse-cli","description":"co-simulation software","@context":"https://schema.org"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="link" viewBox="0 0 16 16"> <title>Link</title> <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path> </symbol> </svg> <div class="page-wrap"> <div class="side-bar"> <div class="site-header"> <a href="http://localhost:4000" class="site-title lh-tight"> Core Simulation Environment </a> <button class="menu-button fs-3 js-main-nav-trigger" data-text-toggle="Hide" type="button">Menu</button> </div> <div class="navigation main-nav js-main-nav"> <nav role="navigation" aria-label="Main navigation"> <ul class="navigation-list"><li class="navigation-list-item"><a href="http://localhost:4000/404.html" class="navigation-list-link">page not found</a></li><li class="navigation-list-item"><a href="http://localhost:4000/cse-demo-app/DPShip" class="navigation-list-link">DPShip</a></li><li class="navigation-list-item"><a href="http://localhost:4000/cse-demo-app/House" class="navigation-list-link">House</a></li><li class="navigation-list-item"><a href="http://localhost:4000/cse-demo-app/Quarter-Truck" class="navigation-list-link">Quarter-Truck</a></li><li class="navigation-list-item active"><a href="http://localhost:4000/cse-cli" class="navigation-list-link active">cse-cli</a></li><li class="navigation-list-item"><a href="http://localhost:4000/cse-core/cse" class="navigation-list-link">CSE</a></li><li class="navigation-list-item"><a href="http://localhost:4000/cse-demo-app/cse-demo-app" class="navigation-list-link">cse-demo-app</a></li><li class="navigation-list-item"><a href="http://localhost:4000/cse-java-wrapper" class="navigation-list-link">cse-java-wrapper</a></li><li class="navigation-list-item"><a href="http://localhost:4000/cse-core/fmuproxy" class="navigation-list-link">fmuproxy</a></li><li class="navigation-list-item"><a href="http://localhost:4000/" class="navigation-list-link">CSE</a></li><li class="navigation-list-item"><a href="http://localhost:4000/model-interface-validator" class="navigation-list-link">Model Interface Validator</a></li><li class="navigation-list-item"><a href="http://localhost:4000/cse-demo-app/user-guide" class="navigation-list-link">user-guide</a></li></ul> </nav> </div> <footer class="site-footer"> <p class="text-small text-grey-dk-000 mb-4">This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.</p> </footer> </div> <div class="main-content-wrap js-main-content" tabindex="0"> <div class="main-content"> <div class="page-header js-page-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" class="js-search-input search-input" tabindex="0" placeholder="Search Core Simulation Environment" aria-label="Search Core Simulation Environment" autocomplete="off"> <svg width="14" height="14" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" class="search-icon"><title>Search</title><g fill-rule="nonzero"><path d="M17.332 20.735c-5.537 0-10-4.6-10-10.247 0-5.646 4.463-10.247 10-10.247 5.536 0 10 4.601 10 10.247s-4.464 10.247-10 10.247zm0-4c3.3 0 6-2.783 6-6.247 0-3.463-2.7-6.247-6-6.247s-6 2.784-6 6.247c0 3.464 2.7 6.247 6 6.247z"/><path d="M11.672 13.791L.192 25.271 3.02 28.1 14.5 16.62z"/></g></svg> </div> <div class="js-search-results search-results-wrap"></div> </div> </div> <div class="page"> <div id="main-content" class="page-content" role="main"> <h2 id="cse-cli"> <a href="#cse-cli" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> CSE CLI </h2> <p>For the cases where a graphical user interface is not available or needed, the CSE comes as a command line application. CSE CLI is a command-line interface (CLI) to the Core Simulation Environment (CSE). It facilitates for running co-simulations of systems configured with SSP or MSMI. It has three primary use cases:</p> <ul> <li>Running simulations from other programs or scripts</li> <li>FMU testing and debugging</li> <li>Users who simply prefer to work from the command line</li> </ul> <p>The command line application is suitable when multiple sets of simulations can be executed in parallel. An example for such use case could be in design, where there typically are multiple system variants and parametrizations of the system. It can simulate single FMUs and show the model descriptions. Besides being a necessary simulation tool, the CSE command line interface also serves as a demonstration for how client applications can make use of the CSE co-simulation library. With the command-line interface, the co-simulation library is used to enable co-simulation from the command-line.</p> <p>This page collects design ideas for the CSE command-line interface (CLI).</p> <h3 id="functionality-and-design"> <a href="#functionality-and-design" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Functionality and design </h3> <p>CSE-CLI should be able to perform the following tasks:</p> <ul> <li>Run a simulation, where the system to simulate is specified as an SSP file.</li> <li>Provide information about a model (usually an FMU).</li> <li> <p>Do a “test run” with a single model (FMU). The following is an unsorted list of loose design ideas and desirable features. A more detailed specification is given in the form of “help texts” in the next section.</p> </li> <li>Ability to access both local and remote models, using paths or URIs.</li> <li>Logging of simulation results to disk.</li> <li>Git-like CLI –Subcommands for main operations –GNU-style long options (–option) with one-letter short forms (-o) for the most commonly used ones –Built-in help/documentation.</li> </ul> <h3 id="functional-specification"> <a href="#functional-specification" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Functional specification </h3> <p>Here, we specify the functionality of the software in the form of imagined interactions with a user. This includes a somewhat formal specification given by the output of the cse help commands.</p> <h4 id="general-usage"> <a href="#general-usage" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> General usage </h4> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;</span> cse
Error: Missing command-line arguments.  Run <span class="s2">"cse help"</span> to get help.
</code></pre></div></div> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;</span> cse <span class="nb">help
</span>NAME
    cse - Command line interface to the Core Simulation Environment.
 
SYNOPSIS
    cse <span class="o">[</span><span class="nt">--version</span><span class="o">]</span> <span class="o">[</span><span class="nt">--help</span><span class="o">]</span> <span class="o">[</span><span class="nt">--log-level</span><span class="o">=</span>&lt;level&gt;] &lt;<span class="nb">command</span><span class="o">&gt;</span> <span class="o">[</span>&lt;args&gt;]
 
DESCRIPTION
    The Core Simulation Environment is free and open-source software <span class="k">for
    </span>running distributed co-simulations.
 
OPTIONS
    <span class="nt">--version</span>
        Prints the CSE version number.
 
    <span class="nt">--help</span>
        Prints <span class="nb">help </span>on using CSE.  Include a subcommand to get detailed
        <span class="nb">help </span>on that command.  The following are equivalent:
            cse <span class="nt">--help</span> <span class="o">[</span>&lt;<span class="nb">command</span><span class="o">&gt;]</span>
            cse <span class="o">[</span>&lt;<span class="nb">command</span><span class="o">&gt;]</span> <span class="nt">--help</span>
            cse <span class="nb">help</span> <span class="o">[</span>&lt;<span class="nb">command</span><span class="o">&gt;]</span>
 
    <span class="nt">--log-level</span><span class="o">=</span>&lt;level&gt;      <span class="o">(</span>default: <span class="nt">--log-level</span><span class="o">=</span>warning<span class="o">)</span>
        Sets the detail/severity level of diagnostic program output.
        Valid &lt;level&gt; values, <span class="k">in </span>order of increasing detail <span class="o">(</span>and decreasing
        severity<span class="o">)</span> are: error, warning, info, debug, trace.
 
COMMANDS
 
    <span class="nb">help
        </span>Shows documentation.  Run <span class="s2">"cse help &lt;command&gt;"</span> <span class="k">for </span>detailed
        information on one of the above commands.
 
    inspect
        Shows information about a model.
 
    run
        Runs a simulation.
 
    run-single
        Runs a simulation with a single subsimulator.
</code></pre></div></div> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;</span> cse <span class="nt">--version</span>
CSE CLI 0.2.0
</code></pre></div></div> <h4 id="getting-information-about-a-model"> <a href="#getting-information-about-a-model" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Getting information about a model </h4> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;</span> cse <span class="nb">help </span>inspect
NAME
    cse inspect - Shows information about a model
 
SYNOPSIS
    cse inspect &lt;uri&gt;
 
    cse inspect &lt;path&gt;
 
DESCRIPTION
    This <span class="nb">command </span>shows information about a model, such as its name,
    description, author, version, and so on.  It also lists information
    about the model<span class="s1">'s variables, like their names, types, causalities,
    variabilities, etc.
 
    The model can be specified with a URI, or, if it'</span>s a <span class="nb">local </span>FMU, by its
    path.  Using a path is equivalent to using a <span class="sb">`</span>file<span class="sb">`</span> URI.
</code></pre></div></div> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;</span> cse inspect models/relativistic_energy.fmu
name: physics.relativity.energy
author: Albert Einstein
version: 1.0
description: Calculates relativistic energy, E^2 <span class="o">=</span> m^2 c^4 + p^2 c^2
variables:
  - name: mass
    <span class="nb">type</span>: real
    causality: parameter
    variability: tunable
  - name: momentum
    <span class="nb">type</span>: real
    causality: input
    variability: continuous
  - name: energy
    <span class="nb">type</span>: real
    causality: output
    variability: continuous
</code></pre></div></div> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;</span> cse inspect fmu-proxy://10.0.0.65:9090?url<span class="o">=</span>http://simple-models.com/circle_area.fmu
name: math.geometry.area.circle
author: Archimedes
version: 3.14.159
description: Calculates the area of a circle, A <span class="o">=</span> pi r^2
variables:
  - name: radius
    <span class="nb">type</span>: real
    causality: input
    variability: continuous
  - name: area
    <span class="nb">type</span>: real
    causality: output
    variability: continuous
</code></pre></div></div> <h4 id="running-a-simulation"> <a href="#running-a-simulation" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Running a simulation </h4> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;</span> cse <span class="nb">help </span>run
NAME
    cse run - Runs a simulation.
 
SYNOPSIS
    cse run &lt;ssp file&gt; <span class="o">[</span><span class="nt">-a</span> &lt;algorithm&gt;] <span class="o">[</span><span class="nt">-b</span> &lt;number&gt;]
        <span class="o">[</span><span class="nt">-d</span> &lt;number&gt; | <span class="nt">-e</span> &lt;number&gt;] <span class="o">[</span><span class="nt">-s</span> &lt;number&gt;] <span class="o">[</span><span class="nt">--rtf</span><span class="o">=</span>&lt;number&gt;]
        <span class="o">[</span><span class="nt">--output-dir</span> &lt;directory&gt;]
 
DESCRIPTION
    This <span class="nb">command </span>runs a simulation based on an SSP file that specifies
    which models to include and the connections between them.
 
OPTIONS
    <span class="nt">-a</span> &lt;algorithm&gt;, <span class="nt">--algorithm</span><span class="o">=</span>&lt;algorithm&gt;     <span class="o">(</span>default: fixed-stepsize<span class="o">)</span>
        Which co-simulation algorithm to use.  Available algorithms are:
        fixed-stepsize.
 
    <span class="nt">-b</span> &lt;number&gt;, <span class="nt">--begintime</span><span class="o">=</span>&lt;number&gt;       <span class="o">(</span>default: 0<span class="o">)</span>
        The logical <span class="nb">time </span>at which the simulation should start.
 
    <span class="nt">-d</span> &lt;number&gt;, <span class="nt">--duration</span><span class="o">=</span>&lt;number&gt;        <span class="o">(</span>default: 1<span class="o">)</span>
        The duration of the simulation, <span class="k">in </span>logical time.  Excludes <span class="nt">-e</span><span class="nb">.</span>
 
    <span class="nt">-e</span> &lt;number&gt;, <span class="nt">--endtime</span><span class="o">=</span>&lt;number&gt;
        The logical end <span class="nb">time </span>of the simulation. Excludes <span class="nt">-d</span><span class="nb">.</span>
 
    <span class="nt">--output-dir</span><span class="o">=</span>&lt;directory&gt;                <span class="o">(</span>default: .<span class="o">)</span>
        Where to write log files with simulation results.
 
    <span class="nt">--rtf</span>
        The desired real-time factor. 1 means real time. The default <span class="k">if
        </span>not specified is to run as fast as possible.
 
    <span class="nt">-s</span> &lt;number&gt;, <span class="nt">--stepsize</span><span class="o">=</span>&lt;number&gt;        <span class="o">(</span>default: 0.01<span class="o">)</span>
        The step size.
</code></pre></div></div> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;</span> cse run sea_trial.ssp <span class="nt">-d</span> 3600 <span class="nt">--output-dir</span><span class="o">=</span>sim/results <span class="nt">--log-level</span><span class="o">=</span>info
<span class="o">[</span>info] Initialising models
<span class="o">[</span>info] Starting simulation, t <span class="o">=</span> 0
<span class="o">[</span>info] 10% <span class="nb">complete</span>, t <span class="o">=</span> 360
<span class="o">[</span>info] 20% <span class="nb">complete</span>, t <span class="o">=</span> 720
<span class="o">[</span>info] 30% <span class="nb">complete</span>, t <span class="o">=</span> 1080
<span class="o">[</span>info] 40% <span class="nb">complete</span>, t <span class="o">=</span> 1440
<span class="o">[</span>info] 50% <span class="nb">complete</span>, t <span class="o">=</span> 1800
<span class="o">[</span>info] 60% <span class="nb">complete</span>, t <span class="o">=</span> 2160
<span class="o">[</span>info] 70% <span class="nb">complete</span>, t <span class="o">=</span> 2520
<span class="o">[</span>info] 80% <span class="nb">complete</span>, t <span class="o">=</span> 2880
<span class="o">[</span>info] 90% <span class="nb">complete</span>, t <span class="o">=</span> 3240
<span class="o">[</span>info] Simulation <span class="nb">complete</span>, t <span class="o">=</span> 3600    
</code></pre></div></div> <h4 id="running-a-single-model"> <a href="#running-a-single-model" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Running a single model </h4> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;</span> cse <span class="nb">help </span>run-single
NAME
    cse run-single - Runs a simulation with a single subsimulator.
 
SYNOPSIS
    cse run-single <span class="o">(</span>&lt;uri&gt; | &lt;path&gt;<span class="o">)</span> <span class="o">[</span>&lt;variable&gt;<span class="o">=</span>&lt;value&gt; ...] <span class="o">[</span><span class="nt">-b</span> &lt;number&gt;]
        <span class="o">[</span><span class="nt">-d</span> &lt;number&gt; | <span class="nt">-e</span> &lt;number&gt;] <span class="o">[</span><span class="nt">-s</span> &lt;number&gt;] <span class="o">[</span><span class="nt">--rtf</span><span class="o">=</span>&lt;number&gt;]
        <span class="o">[</span><span class="nt">--output-file</span><span class="o">=</span>&lt;path&gt;]
 
DESCRIPTION
    This <span class="nb">command </span>runs a simulation consisting of a single subsimulator.
    This is mainly meant <span class="k">for </span>testing and debugging. The simulator is
    therefore run directly, without the overhead and extra machinery of
    a full co-simulation.
 
    The model to simulate can be specified with a URI, or, <span class="k">if </span>it<span class="s1">'s a local
    FMU, by its path.  Using a path is equivalent to using a `file` URI.
 
    Initial variable values may be specified after the model URI/path, by
    supplying a list of name=value pairs as individual command-line
    arguments
 
OPTIONS
    -b &lt;number&gt;, --begintime=&lt;number&gt;       (default: 0)
        The logical time at which the simulation should start.
 
    -d &lt;number&gt;, --duration=&lt;number&gt;        (default: 1)
        The duration of the simulation, in logical time.  Excludes -e.
 
    -e &lt;number&gt;, --endtime=&lt;number&gt;
        The logical end time of the simulation. Excludes -d.
 
    --output-file=&lt;path&gt;                    (default: model-output.csv)
        The file to which simulation results will be written.
 
    --rtf
        The desired real-time factor. 1 means real time. The default if
        not specified is to run as fast as possible.
 
    -s &lt;number&gt;, --stepsize=&lt;number&gt;        (default: 0.01)
        The step size.
</span></code></pre></div></div> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;</span> cse run-single powerplant.fmu <span class="nt">-d</span> 3600 <span class="nt">--output-dir</span><span class="o">=</span>sim/results
</code></pre></div></div> </div> </div> </div> </div> </body> </html>
